<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bluetekâ€¯CI â€“ Boutique Tech</title>
  <style>
    /* â€”â€” Palette Bluetek CI â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    :root {
      --bt-primary: #0077cc;   /* bleu logo */
      --bt-accent:  #00b5e2;   /* cyan logo */
      --bt-dark:    #0f1a25;
      --bt-light:   #f5f8fb;
    }
    /* â€”â€”â€” Reset & helpers â€”â€”â€” */
    * {box-sizing: border-box;margin:0;padding:0;font-family: "Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
    body {background: var(--bt-light);color: var(--bt-dark);}
    a {text-decoration: none;color: inherit;}
    button {cursor:pointer;border:none;background:var(--bt-primary);color:#fff;padding:.4rem .8rem;border-radius:4px;transition:background .2s;}
    button:hover{background:var(--bt-accent);}   
    /* â€”â€”â€” Layout â€”â€”â€” */
    header{background:var(--bt-dark);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;position:sticky;top:0;z-index:10;}
    .logo{font-size:1.5rem;font-weight:700;letter-spacing:1px;color:var(--bt-accent);}   
    nav{display:flex;gap:1rem;flex-wrap:wrap;}
    nav a{color:#fff;font-size:.9rem;padding:.25rem .5rem;border-radius:4px;opacity:.85;}
    nav a:hover{background:rgba(255,255,255,.15);opacity:1;}

    .cart-btn{position:relative;}
    .cart-count{position:absolute;top:-6px;right:-6px;background:var(--bt-accent);width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;}

    main{padding:2rem;max-width:1200px;margin:auto;}
    #products{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:1.5rem;}
    .card{background:#fff;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.08);overflow:hidden;display:flex;flex-direction:column;}
    .card img{width:100%;height:140px;object-fit:contain;background:#f0f3f6;}
    .card h3{font-size:1rem;font-weight:600;padding:.5rem 1rem;flex:1;}
    .card p{padding:0 1rem 1rem;font-weight:600;color:var(--bt-primary);}   

    /* â€”â€”â€” Cart drawer â€”â€”â€” */
    #cartDrawer{position:fixed;top:0;right:-400px;width:340px;max-width:90%;height:100%;background:#fff;box-shadow:-4px 0 12px rgba(0,0,0,.15);transition:right .3s;display:flex;flex-direction:column;z-index:20;}
    #cartDrawer.open{right:0;}
    #cartDrawer header{background:var(--bt-primary);color:#fff;padding:1rem;font-size:1.2rem;display:flex;justify-content:space-between;align-items:center;}
    #cartItems{flex:1;overflow:auto;padding:1rem;display:flex;flex-direction:column;gap:.8rem;}
    .cart-item{display:flex;justify-content:space-between;align-items:center;}
    .cart-item span{font-size:.9rem;}
    .total{font-weight:700;margin-top:auto;padding:1rem;border-top:1px solid #ddd;}
  </style>
</head>
<body>
  <!-- â€”â€”â€” Header â€”â€”â€” -->
  <header>
    <div class="logo">Bluetekâ€¯CI</div>
    <nav id="categoryNav">
      <!-- catÃ©gories gÃ©nÃ©rÃ©es dynamiquement -->
    </nav>
    <button class="cart-btn" id="toggleCart">ðŸ›’<span class="cart-count" id="cartCount">0</span></button>
  </header>

  <!-- â€”â€”â€” Main catalogue â€”â€”â€” -->
  <main>
    <div id="products"></div>
  </main>

  <!-- â€”â€”â€” Cart drawer â€”â€”â€” -->
  <aside id="cartDrawer">
    <header>
      <span>Mon Panier</span>
      <button id="closeCart">âœ•</button>
    </header>
    <div id="cartItems"></div>
    <div class="total" id="cartTotal">TotalÂ : 0 CFA</div>
  </aside>

  <!-- â€”â€”â€” Script â€”â€”â€” -->
  <script>
    /********************  Catalogue & Data  ********************/
    const catalogue = [
      {id:1,cat:"PC COMPLET",name:"VALVE â€“ Steam Deck 1â€¯TB",price:295000,img:"https://dummyimage.com/600x400/ced4da/000&text=Steam+Deck"},
      {id:2,cat:"COMPOSANTS PC",name:"Phanteks Glacier One 360M25",price:115000,img:"https://dummyimage.com/600x400/ced4da/000&text=Phanteks+Glacier+One"},
      {id:3,cat:"COMPOSANTS PC",name:"Intel Core i7â€‘12700K",price:170000,img:"https://dummyimage.com/600x400/ced4da/000&text=i7â€‘12700K"},
      {id:4,cat:"COMPOSANTS PC",name:"ASUS RTXâ€¯4080 Strix 16â€¯GB",price:1128000,img:"https://dummyimage.com/600x400/ced4da/000&text=RTX+4080+Strix"},
      {id:5,cat:"ACCESSOIRES",name:"Corsair Vengeance RGB 32â€¯GB DDR5",price:100000,img:"https://dummyimage.com/600x400/ced4da/000&text=Corsair+DDR5"},
      {id:6,cat:"ECRAN",name:"MSI PRO MP273A 27'' 1080p",price:125000,img:"https://dummyimage.com/600x400/ced4da/000&text=MSI+27\""},
      {id:7,cat:"AUDIO",name:"Logitech G Pro X Headset",price:85000,img:"https://dummyimage.com/600x400/ced4da/000&text=Logitech+Pro+X"}
    ];

    /********************  State & Storage  ********************/
    const state = {
      cart: JSON.parse(localStorage.getItem("bluetek_cart") || "[]"),
      filter: "ALL"
    };

    /********************  DOM refs  ********************/
    const productsEl  = document.getElementById("products");
    const navEl       = document.getElementById("categoryNav");
    const cartBtn     = document.getElementById("toggleCart");
    const cartDrawer  = document.getElementById("cartDrawer");
    const closeCart   = document.getElementById("closeCart");
    const cartItemsEl = document.getElementById("cartItems");
    const cartTotalEl = document.getElementById("cartTotal");
    const cartCountEl = document.getElementById("cartCount");

    /********************  Render Functions  ********************/
    function renderCategories() {
      const cats = ["ALL",...new Set(catalogue.map(p=>p.cat))];
      navEl.innerHTML = cats.map(c=>`<a href="#" data-cat="${c}" class="${state.filter===c?"active":''}">${c}</a>`).join("");
    }

    function renderProducts() {
      const list = state.filter==="ALL" ? catalogue : catalogue.filter(p=>p.cat===state.filter);
      productsEl.innerHTML = list.map(p=>`
        <div class="card">
          <img src="${p.img}" alt="${p.name}" />
          <h3>${p.name}</h3>
          <p>${p.price.toLocaleString()} CFA</p>
          <button onclick="addToCart(${p.id})">Ajouter au panier</button>
        </div>
      `).join("");
    }

    function renderCart() {
      cartItemsEl.innerHTML = state.cart.length ? state.cart.map(item=>`
        <div class="cart-item">
          <span>${item.name}</span>
          <span>${item.price.toLocaleString()} CFA</span>
          <button onclick="removeFromCart(${item.id})">âˆ’</button>
        </div>`).join("") : '<p style="text-align:center;">Votre panier est videÂ ðŸ›’</p>';
      const total = state.cart.reduce((acc,it)=>acc+it.price,0);
      cartTotalEl.textContent = `TotalÂ : ${total.toLocaleString()} CFA`;
      cartCountEl.textContent = state.cart.length;
    }

    /********************  Cart Actions  ********************/
    window.addToCart = id => {
      const product = catalogue.find(p=>p.id===id);
      state.cart.push(product);
      persistCart();
      renderCart();
    };

    window.removeFromCart = id => {
      const idx = state.cart.findIndex(i=>i.id===id);
      if(idx>-1) state.cart.splice(idx,1);
      persistCart();
      renderCart();
    }

    function persistCart(){
      localStorage.setItem("bluetek_cart",JSON.stringify(state.cart));
    }

    /********************  Event Listeners  ********************/
    navEl.addEventListener("click",e=>{
      if(e.target.dataset.cat){
        state.filter = e.target.dataset.cat;
        renderCategories();
        renderProducts();
        e.preventDefault();
      }
    });

    cartBtn.addEventListener("click",()=>cartDrawer.classList.add("open"));
    closeCart.addEventListener("click",()=>cartDrawer.classList.remove("open"));

    /********************  Init  ********************/
    renderCategories();
    renderProducts();
    renderCart();
  </script>
</body>
</html>
